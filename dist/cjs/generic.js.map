{"version":3,"file":"generic.js","names":["getById","data","id","arguments","length","undefined","find","item","filterNoDefault","filter","row","gen","value","get","getLabel","label","handler","target","prop","Array","isArray","Proxy","generic","exports"],"sources":["../../src/generic.ts"],"sourcesContent":["export interface GenericItem {\n  id: number;\n  label: string;\n};\n\nexport interface Generic {\n  [key: string]: Generic | GenericItem[];\n};\n\nconst getById = (data: GenericItem[], id = -1) => data.find((item) => item.id === id) || data.find((item) => item.id === -1);\n\nconst filterNoDefault = (data: GenericItem[]) => data.filter((row) => row.id > -1);\n\nconst gen = (data: GenericItem[]) => ({\n  value: data,\n  get: (id = -1) => getById(data, id),\n  getLabel: (id = -1) => getById(data, id)!.label,\n  filterNoDefault: () => filterNoDefault(data),\n});\n\nconst handler = {\n  get: (target: Generic, prop: any): any => {\n    if (Array.isArray(target)) {\n      return gen(target);\n    }\n\n    if (prop in target) {\n      const data = target[prop];\n      return Array.isArray(data) ? gen(target[prop] as GenericItem[]) : new Proxy(data, handler);\n    }\n\n    return [];\n  },\n};\n\nexport const generic = (data: Generic) => new Proxy(data, handler);\n"],"mappings":";;;;;;AAGC;AAIA;AAED,IAAMA,OAAO,GAAG,SAAVA,OAAOA,CAAIC,IAAmB;EAAA,IAAEC,EAAE,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,OAAKF,IAAI,CAACK,IAAI,CAAC,UAACC,IAAI;IAAA,OAAKA,IAAI,CAACL,EAAE,KAAKA,EAAE;EAAA,EAAC,IAAID,IAAI,CAACK,IAAI,CAAC,UAACC,IAAI;IAAA,OAAKA,IAAI,CAACL,EAAE,KAAK,CAAC,CAAC;EAAA,EAAC;AAAA;AAE5H,IAAMM,gBAAe,GAAG,SAAlBA,eAAeA,CAAIP,IAAmB;EAAA,OAAKA,IAAI,CAACQ,MAAM,CAAC,UAACC,GAAG;IAAA,OAAKA,GAAG,CAACR,EAAE,GAAG,CAAC,CAAC;EAAA,EAAC;AAAA;AAElF,IAAMS,GAAG,GAAG,SAANA,GAAGA,CAAIV,IAAmB;EAAA,OAAM;IACpCW,KAAK,EAAEX,IAAI;IACXY,GAAG,EAAE,SAALA,GAAGA,CAAA;MAAA,IAAGX,EAAE,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;MAAA,OAAKH,OAAO,CAACC,IAAI,EAAEC,EAAE,CAAC;IAAA;IACnCY,QAAQ,EAAE,SAAVA,QAAQA,CAAA;MAAA,IAAGZ,EAAE,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;MAAA,OAAKH,OAAO,CAACC,IAAI,EAAEC,EAAE,CAAC,CAAEa,KAAK;IAAA;IAC/CP,eAAe,EAAE,SAAjBA,eAAeA,CAAA;MAAA,OAAQA,gBAAe,CAACP,IAAI,CAAC;IAAA;EAC9C,CAAC;AAAA,CAAC;AAEF,IAAMe,OAAO,GAAG;EACdH,GAAG,EAAE,SAALA,GAAGA,CAAGI,MAAe,EAAEC,IAAS,EAAU;IACxC,IAAIC,KAAK,CAACC,OAAO,CAACH,MAAM,CAAC,EAAE;MACzB,OAAON,GAAG,CAACM,MAAM,CAAC;IACpB;IAEA,IAAIC,IAAI,IAAID,MAAM,EAAE;MAClB,IAAMhB,IAAI,GAAGgB,MAAM,CAACC,IAAI,CAAC;MACzB,OAAOC,KAAK,CAACC,OAAO,CAACnB,IAAI,CAAC,GAAGU,GAAG,CAACM,MAAM,CAACC,IAAI,CAAkB,CAAC,GAAG,IAAIG,KAAK,CAACpB,IAAI,EAAEe,OAAO,CAAC;IAC5F;IAEA,OAAO,EAAE;EACX;AACF,CAAC;AAEM,IAAMM,OAAO,GAAAC,OAAA,CAAAD,OAAA,GAAG,SAAVA,OAAOA,CAAIrB,IAAa;EAAA,OAAK,IAAIoB,KAAK,CAACpB,IAAI,EAAEe,OAAO,CAAC;AAAA","ignoreList":[]}